(this.webpackJsonpyourwallet=this.webpackJsonpyourwallet||[]).push([[0],{36:function(e,t,a){e.exports=a(50)},45:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(20),c=a.n(l),s=a(23),o=a(13),i=a(3),u=a(17),m=a(11),d=a(12),p=a(8),h=a(15),E=a(14);function b(e){var t=e.id,a=e.type,n=e.value,l=e.onChange,c=e.textLabel,s=e.dataTestId,o=e.className;return r.a.createElement("label",{htmlFor:t},c,r.a.createElement("input",{type:a,value:n,onChange:l,name:t,id:t,className:o,"data-testid":s}))}b.defaultProps={dataTestId:"",className:"",onChange:function(){},value:""};var v=b;function f(e){var t=e.textButton,a=e.onClick,n=e.className,l=e.disabled;return r.a.createElement("section",{className:"container-button"},r.a.createElement("button",{type:"button",onClick:a,className:n,disabled:l},t))}f.defaultProps={disabled:null};var y=f,g=(a(45),function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).submitUser=e.submitUser.bind(Object(p.a)(e)),e.maskEmail=e.maskEmail.bind(Object(p.a)(e)),e.handleChange=e.handleChange.bind(Object(p.a)(e)),e.state={email:"",password:"",emailMasked:!1,redirect:!1},e}return Object(d.a)(a,[{key:"maskEmail",value:function(){var e=this.state.email;if(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(e))return this.setState({emailMasked:!0})}},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.name,r=a.value;this.setState(Object(u.a)({},n,r),(function(){t.maskEmail()}))}},{key:"submitUser",value:function(){(0,this.props.userEmail)(this.state.email),this.setState({redirect:!0})}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.emailMasked,l=e.redirect,c=n&&a.length>=6;return r.a.createElement("main",{className:"login-page"},r.a.createElement("header",{className:"header-login"},r.a.createElement("h1",{className:"logo-yourwallet"},"YourWallet")),r.a.createElement("section",{className:"container-form-login"},r.a.createElement("form",{className:"form-login"},r.a.createElement("h2",{className:"login-to-your-account"}," Entre Em Sua Conta "),r.a.createElement(v,{type:"email",value:t,id:"email",textLabel:"Email: ",className:"input-login",onChange:this.handleChange,dataTestId:"email-input"}),r.a.createElement(v,{type:"password",value:a,id:"password",className:"input-login",textLabel:"Senha: ",onChange:this.handleChange,dataTestId:"password-input"}),r.a.createElement(y,{textButton:"Entrar",onClick:this.submitUser,disabled:!c,className:"btn-submit"}))),l&&r.a.createElement(i.a,{to:"/yourwallet/carteira"}))}}]),a}(n.Component));var x=Object(o.b)(null,(function(e){return{userEmail:function(t){return e({type:"ADD_USER_EMAIL",payload:t})}}}))(g),C=a(5),j=a(19),O=a.n(j),N=a(27);function k(e){var t=e.email,a=e.totalExpenses;return r.a.createElement("header",{className:"header"},r.a.createElement("div",{"data-testid":"email-field",className:"email-header"},"Email: ".concat(t)),r.a.createElement("div",{className:"expenses"},r.a.createElement("div",{"data-testid":"total-field"},"Despesas totais: ".concat(a)),r.a.createElement("span",{"data-testid":"header-currency-field"}," BRL ")))}k.defaultProps={totalExpenses:0};var w=k;function D(e){var t=e.id,a=e.textLabel,n=e.className,l=e.options,c=e.value,s=e.onChange;return r.a.createElement("label",{htmlFor:t},a,r.a.createElement("select",{className:n,id:t,name:t,value:c,onChange:s},l.map((function(e){return r.a.createElement("option",{key:e},e)}))))}D.defaultProps={options:[],className:""};var T=D,A=["Dinheiro","Cart\xe3o de cr\xe9dito","Cart\xe3o de d\xe9bito"],S=["Alimenta\xe7\xe3o","Lazer","Trabalho","Transporte","Sa\xfade"];function L(e){var t=e.currencies,a=e.onChange,n=e.value,l=e.description,c=e.currency,s=e.method,o=e.tag,i=e.onClick;return r.a.createElement("form",{className:"form"},r.a.createElement(v,{textLabel:"Valor: ",type:"number",nameText:"value",id:"value",value:n,onChange:a}),r.a.createElement(v,{textLabel:"Descri\xe7\xe3o: ",type:"text",nameText:"description",id:"description",value:l,onChange:a}),r.a.createElement(T,{textLabel:"Moeda: ",id:"currency",value:c,options:t,onChange:a}),r.a.createElement(T,{textLabel:"M\xe9todo de pagamento: ",id:"method",value:s,options:A,onChange:a}),r.a.createElement(T,{textLabel:"Tag: ",id:"tag",value:o,onChange:a,options:S}),r.a.createElement(y,{className:"btn-add-expenses",textButton:"Adicionar despesas",onClick:i}))}L.defaultProps={currencies:[]};var M=L;var _=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"M\xe9todo de Pagamento"),r.a.createElement("th",null,"Categoria"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor Convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir"))},P=a(31),R=a(32),U=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).convertingCurrency=e.convertingCurrency.bind(Object(p.a)(e)),e.state={currencyConverted:0,exchange:"Real"},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.convertingCurrency()}},{key:"convertingCurrency",value:function(){var e=this.props.expense,t=e.currency,a=e.exchangeRates[t],n=a.name.split("/")[0],r=Number(a.ask).toFixed(2);this.setState({currencyConverted:r,exchange:n})}},{key:"render",value:function(){var e=this.props.expense,t=e.value,a=e.description,n=e.currency,l=e.method,c=e.tag,s=this.state,o=s.currencyConverted,i=s.exchange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:"tr-table"},r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,c),r.a.createElement("td",null,i),r.a.createElement("td",null,o),r.a.createElement("td",null,"BRL"),r.a.createElement("td",{className:"buttons-update-delete"},r.a.createElement("button",{className:"btn-update-delete btn-update"},r.a.createElement(P.a,{size:"1.2em"})),r.a.createElement("button",{className:"btn-update-delete btn-delete"},r.a.createElement(R.a,{size:"1.4em"})))))}}]),a}(n.Component),I=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"mapTablesInf",value:function(){return this.props.expenses.map((function(e){return r.a.createElement(U,{expense:e})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"table-container"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement(_,null))),r.a.createElement("tbody",null,this.mapTablesInf())))}}]),a}(n.Component),V=Object(o.b)((function(e){return{expenses:e.wallet.expenses}}),null)(I),z=(a(48),function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).updateTotalValue=e.updateTotalValue.bind(Object(p.a)(e)),e.handleAddExpenses=e.handleAddExpenses.bind(Object(p.a)(e)),e.handleChange=e.handleChange.bind(Object(p.a)(e)),e.state={value:"",description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o"},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.fetchingValuesCurrencys()}},{key:"fetchingValuesCurrencys",value:function(){var e=Object(N.a)(O.a.mark((function e(){var t,a,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.addCurrenciesDispatch,e.next=3,fetch("https://economia.awesomeapi.com.br/json/all");case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,r=Object.keys(n).filter((function(e){return"USDT"!==e})),t(r),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(u.a)({},a,n))}},{key:"handleAddExpenses",value:function(){var e=Object(N.a)(O.a.mark((function e(){var t,a,n,r,l;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=this.props,n=a.addExpensesDispatch,r=a.expenses,e.next=3,this.fetchingValuesCurrencys();case 3:l=e.sent,n(Object(C.a)(Object(C.a)({id:r.length},t),{},{exchangeRates:Object(C.a)({},l)})),this.updateTotalValue(l);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateTotalValue",value:function(e){var t=this.state,a=t.value,n=t.currency,r=this.props,l=r.updateTotalExpensesDispatch,c=r.totalExpenses,s=e[n].ask;l(c+Number((a*s).toFixed([2])))}},{key:"render",value:function(){var e=this.props,t=e.email,a=e.currencies,n=e.totalExpenses,l=this.state,c=l.value,s=l.description,o=l.currency,i=l.method,u=l.tag;return r.a.createElement("main",{className:"wallet-page"},r.a.createElement(w,{email:t,totalExpenses:n}),r.a.createElement("section",{className:"container-form"},r.a.createElement(M,{currencies:a,onChange:this.handleChange,value:c,description:s,currency:o,method:i,tag:u,onClick:this.handleAddExpenses})),r.a.createElement("section",{className:"tables-container"},r.a.createElement(V,null)))}}]),a}(n.Component));var B=Object(o.b)((function(e){return{email:e.user.email,expenses:e.wallet.expenses,currencies:e.wallet.currencies,totalExpenses:e.wallet.totalExpenses}}),(function(e){return{addExpensesDispatch:function(t){return e({type:"ADD_EXPENSES",payload:t})},addCurrenciesDispatch:function(t){return e({type:"ADD_CURRENCIES",payload:t})},updateTotalExpensesDispatch:function(t){return e({type:"UPDATE_TOTAL_EXPENSES",payload:t})}}}))(z);var F=function(){return r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/yourwallet",component:x}),r.a.createElement(i.b,{path:"/yourwallet/carteira",component:B}))};a(49);var X=function(){return r.a.createElement("main",{className:"App"},r.a.createElement(F,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=a(10),J=a(33),W=a(34),$={email:""};var Y=a(35),q={currencies:[],expenses:[],totalExpenses:0};var G=Object(Z.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER_EMAIL":return Object(C.a)(Object(C.a)({},e),{},{email:t.payload});default:return e}},wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EXPENSES":return Object(C.a)(Object(C.a)({},e),{},{expenses:[].concat(Object(Y.a)(e.expenses),[t.payload])});case"ADD_CURRENCIES":return Object(C.a)(Object(C.a)({},e),{},{currencies:t.payload});case"UPDATE_TOTAL_EXPENSES":return Object(C.a)(Object(C.a)({},e),{},{totalExpenses:t.payload});default:return e}}}),H=Object(Z.createStore)(G,Object(J.composeWithDevTools)(Object(Z.applyMiddleware)(W.a)));c.a.render(r.a.createElement(s.a,null,r.a.createElement(o.a,{store:H},r.a.createElement(X,null))),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.5f5baaa6.chunk.js.map